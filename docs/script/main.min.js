!function(){"use strict";var e={324:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(r(72)),f=r(753),c=s(r(771)),d=u(r(748)),h=s(r(62)),p=s(r(61));r(457);var b=function(e){function t(){var t=e.call(this,f.gl)||this;t._FBO=new l.default(f.gl,512,512),t._vbo=h.default.createQuad(f.gl,-1,-1,1,1);var r=function(){var e=Page.Canvas.getSize();t.initializeTextures(e[0],e[1]),t.recomputeVisibleSubTexture()};t._needToRecomputeShader=!0,t._mustClear=!0,t._textures=[null,null],t._visibleSubTexture=[0,0,1,1],r(),Page.Canvas.Observers.mouseDrag.push((function(e,r){t._visibleSubTexture[0]-=e*t._visibleSubTexture[2],t._visibleSubTexture[1]-=r*t._visibleSubTexture[3],t.recomputeVisibleSubTexture(),t._needToRedraw=!0,t._mustClear=!0})),Page.Canvas.Observers.canvasResize.push(r),p.default.resetObservers.push(r),p.default.rulesObservers.push((function(){return t._needToRecomputeShader=!0}));var n=p.default.scale;return p.default.scaleObservers.push((function(e,r){t._needToRedraw=!0,t._mustClear=!0,t._visibleSubTexture[0]+=r[0]*(1-n/e)*t._visibleSubTexture[2],t._visibleSubTexture[1]+=r[1]*(1-n/e)*t._visibleSubTexture[3],n=e,t.recomputeVisibleSubTexture()})),d.buildShader({fragmentFilename:"display-2D.frag",vertexFilename:"display-2D.vert",injected:{}},(function(e){null!==e&&(t._displayShader=e,t._displayShader.a.aCorner.VBO=t._vbo,t._displayShader.u.uSubTexture.value=t._visibleSubTexture)})),t}return i(t,e),t.prototype.freeGLResources=function(){this._FBO&&this._FBO.freeGLResources(),this._vbo&&(this._vbo.freeGLResources(),this._vbo=null),this._displayShader&&(this._displayShader.freeGLResources(),this._displayShader=null),this._updateShader&&(this._updateShader.freeGLResources(),this._updateShader=null),this.freeTextures()},t.prototype.update=function(){this._needToRecomputeShader&&this.recomputeUpdateShader();var e=this._updateShader;if(e){var t=this._textures[this._currentIndex],r=this._textures[(this._currentIndex+1)%2];this._FBO.bind([r]),e.u.uPrevious.value=t,e.u.uPhysicalCellSize.value=[1/this._textureSize[0],1/this._textureSize[1]],e.use(),e.bindUniformsAndAttributes(),f.gl.disable(f.gl.BLEND),f.gl.drawArrays(f.gl.TRIANGLE_STRIP,0,4),this._currentIndex=(this._currentIndex+1)%2,this._iteration++}},t.prototype.draw=function(){var e=this._displayShader;e&&(e.u.uClearFactor.value=this._mustClear?1:1-p.default.persistence,e.u.uTexture.value=this._textures[this._currentIndex],e.u.uGridSize.value=this._gridSize,e.use(),e.bindUniformsAndAttributes(),f.gl.enable(f.gl.BLEND),f.gl.drawArrays(f.gl.TRIANGLE_STRIP,0,4),this._needToRedraw=!1,this._mustClear=!1)},Object.defineProperty(t.prototype,"iteration",{get:function(){return this._iteration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"needToRedraw",{get:function(){return this._needToRedraw},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"needToUpdate",{get:function(){return this._needToRecomputeShader},enumerable:!1,configurable:!0}),t.prototype.recomputeUpdateShader=function(){var e=this;d.buildShader({fragmentFilename:"update-2D.frag",vertexFilename:"update-2D.vert",injected:{rules:this.generateShaderRules()}},(function(t){null!==t&&(e._updateShader&&e._updateShader.freeGLResources(),e._updateShader=t,e._updateShader.a.aCorner.VBO=e._vbo)})),this._needToRecomputeShader=!1},t.prototype.generateShaderRules=function(){function e(e,t,r){if("alive"!==r){var n=void 0;return 0===e?(n="step(N, "+(t+.5)+")",8===t&&(n="1.0")):n=8===t?"step("+(e-.5)+", N)":"step("+(e-.5)+", N) * step(N, "+(t+.5)+")","currentState"+("death"===r?" -= ":" += ")+n+";\n"}return""}for(var t="",r=p.default.rules,n=r[0],i=0,a=1;a<9;++a)r[a]!==n&&(t+=e(i,a-1,n),n=r[a],i=a);return t+e(i,8,n)},t.prototype.recomputeVisibleSubTexture=function(){var e=Page.Canvas.getSize();this._visibleSubTexture[2]=e[0]/this._gridSize[0]/p.default.scale,this._visibleSubTexture[3]=e[1]/this._gridSize[1]/p.default.scale;for(var t=0;t<2;++t)this._visibleSubTexture[t]-=Math.min(0,this._visibleSubTexture[t]),this._visibleSubTexture[t]-=Math.max(0,this._visibleSubTexture[t]+this._visibleSubTexture[t+2]-1)},t.prototype.freeTextures=function(){for(var e=0;e<2;++e)this._textures[e]&&(f.gl.deleteTexture(this._textures[e]),this._textures[e]=null)},t.prototype.initializeTextures=function(e,t){function r(e){return Math.pow(2,Math.ceil(Math.log(e)*Math.LOG2E))}e=r(e),t=r(t),this._gridSize=[e,t];var n=e/4,i=t/4;this._FBO.width=n,this._FBO.height=i,this._textureSize=[n,i];for(var a=new Uint8Array(4*n*i),o=a.length-1;o>=0;--o)a[o]=Math.floor(256*Math.random());for(o=0;o<2;++o)null===this._textures[o]&&(this._textures[o]=f.gl.createTexture()),f.gl.bindTexture(f.gl.TEXTURE_2D,this._textures[o]),f.gl.texImage2D(f.gl.TEXTURE_2D,0,f.gl.RGBA,n,i,0,f.gl.RGBA,f.gl.UNSIGNED_BYTE,a),f.gl.texParameteri(f.gl.TEXTURE_2D,f.gl.TEXTURE_MAG_FILTER,f.gl.NEAREST),f.gl.texParameteri(f.gl.TEXTURE_2D,f.gl.TEXTURE_MIN_FILTER,f.gl.NEAREST);this._currentIndex=0,this._iteration=0,this._needToRedraw=!0,Page.Canvas.setIndicatorText("grid-size",e+"x"+t)},t}(c.default);t.default=b},72:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.id=t.createFramebuffer(),i.width=r,i.height=n,i}return i(t,e),t.bindDefault=function(e,t){void 0===t&&(t=null),e.bindFramebuffer(e.FRAMEBUFFER,null),null===t?e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight):e.viewport(t.left,t.lower,t.width,t.height)},t.prototype.bind=function(t,r){void 0===r&&(r=null);var n=e.prototype.gl.call(this);n.bindFramebuffer(n.FRAMEBUFFER,this.id),n.viewport(0,0,this.width,this.height);for(var i=0;i<t.length;++i)n.framebufferTexture2D(n.FRAMEBUFFER,n["COLOR_ATTACHMENT"+i],n.TEXTURE_2D,t[i],0);r&&(n.bindRenderbuffer(n.RENDERBUFFER,r),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,r))},t.prototype.freeGLResources=function(){e.prototype.gl.call(this).deleteFramebuffer(this.id),this.id=null},t}(a(r(771)).default);t.default=o},753:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.gl=t.initGL=t.adjustSize=void 0,r(457);var n=null;t.gl=n,t.initGL=function(e){function r(e){Page.Demopage.setErrorMessage("webgl-support",e)}var i=Page.Canvas.getCanvas();if(t.gl=n=i.getContext("webgl",e),null==n){if(t.gl=n=i.getContext("experimental-webgl",e),null==n)return r("Your browser or device does not seem to support WebGL."),!1;r("Your browser or device only supports experimental WebGL.\nThe simulation may not run as expected.")}return n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.BLEND),n.clearColor(0,0,0,1),!0},t.adjustSize=function(e){void 0===e&&(e=!1);var t=e?window.devicePixelRatio:1,r=n.canvas,i=Math.floor(r.clientWidth*t),a=Math.floor(r.clientHeight*t);r.width===i&&r.height===a||(r.width=i,r.height=a)}},771:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._gl=e}return e.prototype.gl=function(){return this._gl},e}();t.default=r},748:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteShader=t.registerShader=t.getShader=t.buildShader=void 0;var u=r(753),s=o(r(490)),l=a(r(71)),f={};function c(e,t){var r=2,n=0;function i(i){function a(t){return t.replace(/#INJECT\((.*)\)/gm,(function(t,r){return e.injected[r]?e.injected[r]:t}))}if(r--,i||n++,0===r){var o=null;if(0===n){var f=l.getSource(e.vertexFilename),c=l.getSource(e.fragmentFilename),d=a(f),h=a(c);o=new s.default(u.gl,d,h)}t(o)}}l.loadSource(e.vertexFilename,i),l.loadSource(e.fragmentFilename,i)}t.getShader=function(e){return f[e].shader},t.buildShader=c,t.registerShader=function(e,t,r){function n(e){for(var t=0,r=e.callbacks;t<r.length;t++)(0,r[t])(!e.failed,e.shader);e.callbacks=[]}if(void 0===f[e]){f[e]={callbacks:[r],failed:!1,infos:t,pending:!0,shader:null};var i=f[e];c(t,(function(e){i.pending=!1,i.failed=null===e,i.shader=e,n(i)}))}else{var a=f[e];!0===a.pending?a.callbacks.push(r):n(a)}},t.deleteShader=function(e){f[e]&&(f[e].shader&&f[e].shader.freeGLResources(),delete f[e])}},71:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.loadSource=t.getSource=void 0;var r={};t.loadSource=function(e,t){function n(e){for(var t=0,r=e.callbacks;t<r.length;t++)(0,r[t])(!e.failed);e.callbacks=[]}if(void 0===r[e]){r[e]={callbacks:[t],failed:!1,pending:!0,text:null};var i=r[e],a=new XMLHttpRequest;a.open("GET","./shaders/"+e,!0),a.onload=function(){4===a.readyState&&(i.pending=!1,200===a.status?(i.text=a.responseText,i.failed=!1):(console.error("Cannot load '"+e+"' shader source: "+a.statusText),i.failed=!0),n(i))},a.onerror=function(){console.error("Cannot load '"+e+"' shader source: "+a.statusText),i.pending=!1,i.failed=!0,n(i)},a.send(null)}else{var o=r[e];!0===o.pending?o.callbacks.push(t):(o.callbacks=[t],n(o))}},t.getSource=function(e){return r[e].text}},490:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(r(771));function u(e,t,r){alert("NOT IMPLEMENTED YET")}var s={35664:{str:"FLOAT_VEC2",binder:function(e,t,r){e.uniform2fv(t,r)}},35665:{str:"FLOAT_VEC3",binder:function(e,t,r){e.uniform3fv(t,r)}},35666:{str:"FLOAT_VEC4",binder:function(e,t,r){e.uniform4fv(t,r)}},35667:{str:"INT_VEC2",binder:function(e,t,r){e.uniform2iv(t,r)}},35668:{str:"INT_VEC3",binder:function(e,t,r){e.uniform3iv(t,r)}},35669:{str:"INT_VEC4",binder:function(e,t,r){e.uniform4iv(t,r)}},35670:{str:"BOOL",binder:function(e,t,r){e.uniform1i(t,+r)}},35671:{str:"BOOL_VEC2",binder:function(e,t,r){e.uniform2iv(t,r)}},35672:{str:"BOOL_VEC3",binder:function(e,t,r){e.uniform3iv(t,r)}},35673:{str:"BOOL_VEC4",binder:function(e,t,r){e.uniform4iv(t,r)}},35674:{str:"FLOAT_MAT2",binder:function(e,t,r){e.uniformMatrix2fv(t,!1,r)}},35675:{str:"FLOAT_MAT3",binder:function(e,t,r){e.uniformMatrix3fv(t,!1,r)}},35676:{str:"FLOAT_MAT4",binder:function(e,t,r){e.uniformMatrix4fv(t,!1,r)}},35678:{str:"SAMPLER_2D",binder:function(e,t,r,n){e.uniform1i(t,r),e.activeTexture(e["TEXTURE"+r]),e.bindTexture(e.TEXTURE_2D,n)}},35680:{str:"SAMPLER_CUBE",binder:function(e,t,r,n){e.uniform1i(t,r),e.activeTexture(e["TEXTURE"+r]),e.bindTexture(e.TEXTURE_CUBE_MAP,n)}},5120:{str:"BYTE",binder:u},5121:{str:"UNSIGNED_BYTE",binder:u},5122:{str:"SHORT",binder:u},5123:{str:"UNSIGNED_SHORT",binder:u},5124:{str:"INT",binder:function(e,t,r){Array.isArray(r),e.uniform1iv(t,r)}},5125:{str:"UNSIGNED_INT",binder:u},5126:{str:"FLOAT",binder:function(e,t,r){Array.isArray(r)?e.uniform1fv(t,r):e.uniform1f(t,r)}}},l=function(e){function t(t,r,n){var i=this;function a(e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.error(t.getShaderInfoLog(n)),t.deleteShader(n),null)}(i=e.call(this,t)||this).id=null,i.uCount=0,i.aCount=0;var o=a(t.VERTEX_SHADER,r),u=a(t.FRAGMENT_SHADER,n),s=t.createProgram();return t.attachShader(s,o),t.attachShader(s,u),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)?(i.id=s,i.introspection()):(console.error(t.getProgramInfoLog(s)),t.deleteProgram(s)),i}return i(t,e),t.prototype.freeGLResources=function(){e.prototype.gl.call(this).deleteProgram(this.id),this.id=null},t.prototype.use=function(){e.prototype.gl.call(this).useProgram(this.id)},t.prototype.bindUniforms=function(){var t=this,r=e.prototype.gl.call(this),n=0;Object.keys(this.u).forEach((function(e){var i=t.u[e];if(null!==i.value)if(35678===i.type||35680===i.type){var a=n;s[i.type].binder(r,i.loc,a,i.value),n++}else s[i.type].binder(r,i.loc,i.value)}))},t.prototype.bindAttributes=function(){var e=this;Object.keys(this.a).forEach((function(t){var r=e.a[t];null!==r.VBO&&r.VBO.bind(r.loc)}))},t.prototype.bindUniformsAndAttributes=function(){this.bindUniforms(),this.bindAttributes()},t.prototype.introspection=function(){var t=e.prototype.gl.call(this);this.uCount=t.getProgramParameter(this.id,t.ACTIVE_UNIFORMS),this.u=[];for(var r=0;r<this.uCount;++r){var n=t.getActiveUniform(this.id,r),i=n.name;this.u[i]={loc:t.getUniformLocation(this.id,i),size:n.size,type:n.type,value:null}}for(this.aCount=t.getProgramParameter(this.id,t.ACTIVE_ATTRIBUTES),this.a=[],r=0;r<this.aCount;++r){var a=t.getActiveAttrib(this.id,r),o=a.name;this.a[o]={VBO:null,loc:t.getAttribLocation(this.id,o),size:a.size,type:a.type}}},t}(o.default);t.default=l},62:function(e,t,r){var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r,n,i){var a=e.call(this,t)||this;return a.id=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,a.id),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),a.size=n,a.type=i,a.normalize=!1,a.stride=0,a.offset=0,a}return i(t,e),t.createQuad=function(e,r,n,i,a){return new t(e,new Float32Array([r,n,i,n,r,a,i,a]),2,e.FLOAT)},t.prototype.freeGLResources=function(){this.gl().deleteBuffer(this.id),this.id=null},t.prototype.bind=function(t){var r=e.prototype.gl.call(this);r.enableVertexAttribArray(t),r.bindBuffer(r.ARRAY_BUFFER,this.id),r.vertexAttribPointer(t,this.size,this.type,this.normalize,this.stride,this.offset)},t}(a(r(771)).default);t.default=o},883:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n){this.left=e,this.lower=t,this.width=r,this.height=n}return e.setFullCanvas=function(e){e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight)},e.prototype.set=function(e){e.viewport(this.lower,this.left,this.width,this.height)},e}();t.default=r},633:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(r(72)),s=a(r(753)),l=r(753),f=o(r(883)),c=o(r(324)),d=o(r(61));r(457),function(){if(s.initGL({alpha:!1,preserveDrawingBuffer:!0})){l.gl.blendFunc(l.gl.ONE,l.gl.ONE_MINUS_SRC_ALPHA),Page.Canvas.showLoader(!0);var e=!0;Page.Canvas.Observers.canvasResize.push((function(){return e=!0})),d.default.autorun=!0,d.default.persistence=0;var t=new c.default,r=t.iteration;window.setInterval((function(){Page.Canvas.setIndicatorText("iterations-per-sec",""+(t.iteration-r)),r=t.iteration}),1e3),window.setInterval((function(){Page.Canvas.setIndicatorText("iteration",""+t.iteration)}),50);var n=!1;d.default.nextStepObservers.push((function(){return n=!0}));var i=!0,a=0;requestAnimationFrame((function r(o){var c=t.needToUpdate||n||d.default.autorun&&o-a>d.default.updateWaitTime;c&&(a=o,t.update(),n=!1),(c||t.needToRedraw)&&(u.default.bindDefault(l.gl),e&&(s.adjustSize(),e=!1),f.default.setFullCanvas(l.gl),t.draw(),i&&(i=!1,Page.Canvas.showLoader(!1))),requestAnimationFrame(r)}))}}()},457:function(){},61:function(e,t,r){var n;Object.defineProperty(t,"__esModule",{value:!0}),r(457),function(e){e.DEATH="death",e.ALIVE="alive",e.BIRTH="birth"}(n||(n={}));var i=[n.DEATH,n.DEATH,n.ALIVE,n.BIRTH,n.DEATH,n.DEATH,n.DEATH,n.DEATH,n.DEATH],a=i.slice();function o(e){var t="neighbours-tabs-".concat(e);a[e]===n.DEATH?Page.Tabs.setValues(t,["death"]):a[e]===n.ALIVE?Page.Tabs.setValues(t,["alive"]):a[e]===n.BIRTH&&Page.Tabs.setValues(t,["alive","birth"]),Page.Tabs.storeState(t)}var u=[];function s(){for(var e=0,t=u;e<t.length;e++)(0,t[e])()}var l,f="customrules";window.addEventListener("load",(function(){for(var e="undefined"!=typeof URLSearchParams&&new URLSearchParams(window.location.search).has(f),t=function(t){var r="neighbours-tabs-".concat(t);if(Page.Tabs.addObserver(r,(function(e){var r=a[t];a[t]!==n.DEATH&&e.indexOf(n.DEATH)>=0?a[t]=n.DEATH:a[t]!==n.ALIVE&&e.indexOf(n.ALIVE)>=0?a[t]=n.ALIVE:a[t]!==n.BIRTH&&e.indexOf(n.BIRTH)>=0&&(a[t]=n.BIRTH),o(t),function(){if("undefined"!=typeof URLSearchParams){var e=new URLSearchParams(window.location.search);e.set(f,"true");var t=e.toString(),r=window.location.origin+window.location.pathname+(t?"?".concat(t):"");window.history.replaceState("","",r)}for(var n=0;n<9;n++){var i="neighbours-tabs-".concat(n);Page.Tabs.storeState(i)}}(),r!==a[t]&&s()})),e){var i=Page.Tabs.getValues(r);i.indexOf(n.BIRTH)>=0?a[t]=n.BIRTH:i.indexOf(n.ALIVE)>=0?a[t]=n.ALIVE:a[t]=n.DEATH}o(t)},r=0;r<9;++r)t(r);s()})),Page.Button.addObserver("reset-rules-button-id",(function(){for(var e=!1,t=0;t<9;t++)e=e||a[t]!==i[t],a[t]=i[t],o(t),Page.Tabs.clearStoredState("neighbours-tabs-".concat(t));!function(){if("undefined"!=typeof URLSearchParams){var e=new URLSearchParams(window.location.search);e.delete(f);var t=e.toString(),r=window.location.origin+window.location.pathname+(t?"?".concat(t):"");window.history.replaceState("","",r)}}(),e&&s()}));var c,d="autorun-checkbox-id";Page.Checkbox.addObserver(d,(function(e){l=e})),l=Page.Checkbox.isChecked(d);var h=[1e3,500,200,1e3/11,1e3/31,0],p="speed-range-id";Page.Range.addObserver(p,(function(e){c=e})),c=Page.Range.getValue(p);var b=[];Page.Button.addObserver("next-button-id",(function(){for(var e=0,t=b;e<t.length;e++)(0,t[e])()}));var v,_=[];Page.Button.addObserver("reset-button-id",(function(){for(var e=0,t=_;e<t.length;e++)(0,t[e])()}));var g,T,y=[],m=[0,.6,.7,.8,.9],S="persistence-range-id";Page.Range.addObserver(S,(function(e){v=e;for(var t=0,r=y;t<r.length;t++)(0,r[t])(v)})),v=Page.Range.getValue(S);var O=[];Page.Canvas.Observers.mouseWheel.push((function(e,t){T=Math.min(10,Math.max(1,T-e));var r=Math.round(T);if(r!==g){g=r,t||(t=Page.Canvas.getMousePosition());for(var n=0,i=O;n<i.length;n++)(0,i[n])(g,t)}})),T=g=1,Page.Checkbox.addObserver("indicators-checkbox-id",(function(e){Page.Canvas.setIndicatorsVisibility(e)}));var E=function(){function e(){}return Object.defineProperty(e,"autorun",{get:function(){return l},set:function(e){l=e,Page.Checkbox.setChecked(d,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"updateWaitTime",{get:function(){return h[c-1]},enumerable:!1,configurable:!0}),Object.defineProperty(e,"nextStepObservers",{get:function(){return b},enumerable:!1,configurable:!0}),Object.defineProperty(e,"resetObservers",{get:function(){return _},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scale",{get:function(){return g},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scaleObservers",{get:function(){return O},enumerable:!1,configurable:!0}),Object.defineProperty(e,"persistence",{get:function(){return m[v]},set:function(e){Page.Range.setValue(S,e),v=Page.Range.getValue(S)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"persistenceObservers",{get:function(){return y},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rules",{get:function(){return a},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rulesObservers",{get:function(){return u},enumerable:!1,configurable:!0}),e}();t.default=E}},t={};!function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}(633)}();
//# sourceMappingURL=main.min.js.map
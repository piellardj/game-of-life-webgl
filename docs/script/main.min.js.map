{"version":3,"file":"main.min.js","mappings":"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","sources":["webpack://game-of-life-webgl/./src/ts/automaton-2D.ts","webpack://game-of-life-webgl/./src/ts/gl-utils/fbo.ts","webpack://game-of-life-webgl/./src/ts/gl-utils/gl-canvas.ts","webpack://game-of-life-webgl/./src/ts/gl-utils/gl-resource.ts","webpack://game-of-life-webgl/./src/ts/gl-utils/shader-manager.ts","webpack://game-of-life-webgl/./src/ts/gl-utils/shader-sources.ts","webpack://game-of-life-webgl/./src/ts/gl-utils/shader.ts","webpack://game-of-life-webgl/./src/ts/gl-utils/vbo.ts","webpack://game-of-life-webgl/./src/ts/gl-utils/viewport.ts","webpack://game-of-life-webgl/./src/ts/main.ts","webpack://game-of-life-webgl/./src/ts/parameters.ts","webpack://game-of-life-webgl/webpack/bootstrap","webpack://game-of-life-webgl/webpack/startup"],"sourcesContent":["\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar fbo_1 = __importDefault(require(\"./gl-utils/fbo\"));\r\nvar gl_canvas_1 = require(\"./gl-utils/gl-canvas\");\r\nvar gl_resource_1 = __importDefault(require(\"./gl-utils/gl-resource\"));\r\nvar ShaderManager = __importStar(require(\"./gl-utils/shader-manager\"));\r\nvar vbo_1 = __importDefault(require(\"./gl-utils/vbo\"));\r\nvar parameters_1 = __importDefault(require(\"./parameters\"));\r\nrequire(\"./page-interface-generated\");\r\nvar Automaton2D = (function (_super) {\r\n    __extends(Automaton2D, _super);\r\n    function Automaton2D() {\r\n        var _this = _super.call(this, gl_canvas_1.gl) || this;\r\n        _this._FBO = new fbo_1.default(gl_canvas_1.gl, 512, 512);\r\n        _this._vbo = vbo_1.default.createQuad(gl_canvas_1.gl, -1, -1, 1, 1);\r\n        var initializeTexturesForCanvas = function () {\r\n            var canvasSize = Page.Canvas.getSize();\r\n            _this.initializeTextures(canvasSize[0], canvasSize[1]);\r\n            _this.recomputeVisibleSubTexture();\r\n        };\r\n        _this._needToRecomputeShader = true;\r\n        _this._mustClear = true;\r\n        _this._textures = [null, null];\r\n        _this._visibleSubTexture = [0, 0, 1, 1];\r\n        initializeTexturesForCanvas();\r\n        Page.Canvas.Observers.mouseDrag.push(function (dX, dY) {\r\n            _this._visibleSubTexture[0] -= dX * _this._visibleSubTexture[2];\r\n            _this._visibleSubTexture[1] -= dY * _this._visibleSubTexture[3];\r\n            _this.recomputeVisibleSubTexture();\r\n            _this._needToRedraw = true;\r\n            _this._mustClear = true;\r\n        });\r\n        Page.Canvas.Observers.canvasResize.push(initializeTexturesForCanvas);\r\n        parameters_1.default.resetObservers.push(initializeTexturesForCanvas);\r\n        parameters_1.default.rulesObservers.push(function () { return _this._needToRecomputeShader = true; });\r\n        var previousScale = parameters_1.default.scale;\r\n        parameters_1.default.scaleObservers.push(function (newScale, zoomCenter) {\r\n            _this._needToRedraw = true;\r\n            _this._mustClear = true;\r\n            _this._visibleSubTexture[0] += zoomCenter[0] * (1 - previousScale / newScale) * _this._visibleSubTexture[2];\r\n            _this._visibleSubTexture[1] += zoomCenter[1] * (1 - previousScale / newScale) * _this._visibleSubTexture[3];\r\n            previousScale = newScale;\r\n            _this.recomputeVisibleSubTexture();\r\n        });\r\n        ShaderManager.buildShader({\r\n            fragmentFilename: \"display-2D.frag\",\r\n            vertexFilename: \"display-2D.vert\",\r\n            injected: {},\r\n        }, function (shader) {\r\n            if (shader !== null) {\r\n                _this._displayShader = shader;\r\n                _this._displayShader.a[\"aCorner\"].VBO = _this._vbo;\r\n                _this._displayShader.u[\"uSubTexture\"].value = _this._visibleSubTexture;\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    Automaton2D.prototype.freeGLResources = function () {\r\n        if (this._FBO) {\r\n            this._FBO.freeGLResources();\r\n        }\r\n        if (this._vbo) {\r\n            this._vbo.freeGLResources();\r\n            this._vbo = null;\r\n        }\r\n        if (this._displayShader) {\r\n            this._displayShader.freeGLResources();\r\n            this._displayShader = null;\r\n        }\r\n        if (this._updateShader) {\r\n            this._updateShader.freeGLResources();\r\n            this._updateShader = null;\r\n        }\r\n        this.freeTextures();\r\n    };\r\n    Automaton2D.prototype.update = function () {\r\n        if (this._needToRecomputeShader) {\r\n            this.recomputeUpdateShader();\r\n        }\r\n        var shader = this._updateShader;\r\n        if (shader) {\r\n            var current = this._textures[this._currentIndex];\r\n            var next = this._textures[(this._currentIndex + 1) % 2];\r\n            this._FBO.bind([next]);\r\n            shader.u[\"uPrevious\"].value = current;\r\n            shader.u[\"uPhysicalCellSize\"].value = [1 / this._textureSize[0], 1 / this._textureSize[1]];\r\n            shader.use();\r\n            shader.bindUniformsAndAttributes();\r\n            gl_canvas_1.gl.disable(gl_canvas_1.gl.BLEND);\r\n            gl_canvas_1.gl.drawArrays(gl_canvas_1.gl.TRIANGLE_STRIP, 0, 4);\r\n            this._currentIndex = (this._currentIndex + 1) % 2;\r\n            this._iteration++;\r\n        }\r\n    };\r\n    Automaton2D.prototype.draw = function () {\r\n        var shader = this._displayShader;\r\n        if (shader) {\r\n            shader.u[\"uClearFactor\"].value = (this._mustClear) ? 1 : 1 - parameters_1.default.persistence;\r\n            shader.u[\"uTexture\"].value = this._textures[this._currentIndex];\r\n            shader.u[\"uGridSize\"].value = this._gridSize;\r\n            shader.use();\r\n            shader.bindUniformsAndAttributes();\r\n            gl_canvas_1.gl.enable(gl_canvas_1.gl.BLEND);\r\n            gl_canvas_1.gl.drawArrays(gl_canvas_1.gl.TRIANGLE_STRIP, 0, 4);\r\n            this._needToRedraw = false;\r\n            this._mustClear = false;\r\n        }\r\n    };\r\n    Object.defineProperty(Automaton2D.prototype, \"iteration\", {\r\n        get: function () {\r\n            return this._iteration;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Automaton2D.prototype, \"needToRedraw\", {\r\n        get: function () {\r\n            return this._needToRedraw;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Automaton2D.prototype, \"needToUpdate\", {\r\n        get: function () {\r\n            return this._needToRecomputeShader;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Automaton2D.prototype.recomputeUpdateShader = function () {\r\n        var _this = this;\r\n        ShaderManager.buildShader({\r\n            fragmentFilename: \"update-2D.frag\",\r\n            vertexFilename: \"update-2D.vert\",\r\n            injected: { rules: this.generateShaderRules() },\r\n        }, function (shader) {\r\n            if (shader !== null) {\r\n                if (_this._updateShader) {\r\n                    _this._updateShader.freeGLResources();\r\n                }\r\n                _this._updateShader = shader;\r\n                _this._updateShader.a[\"aCorner\"].VBO = _this._vbo;\r\n            }\r\n        });\r\n        this._needToRecomputeShader = false;\r\n    };\r\n    Automaton2D.prototype.generateShaderRules = function () {\r\n        function generateRuleBlock(starting, ending, rule) {\r\n            if (rule !== \"alive\") {\r\n                var operation = (rule === \"death\") ? \" -= \" : \" += \";\r\n                var rangeCheck = void 0;\r\n                if (starting === 0) {\r\n                    rangeCheck = \"step(N, \" + (ending + .5) + \")\";\r\n                    if (ending === 8) {\r\n                        rangeCheck = \"1.0\";\r\n                    }\r\n                }\r\n                else if (ending === 8) {\r\n                    rangeCheck = \"step(\" + (starting - .5) + \", N)\";\r\n                }\r\n                else {\r\n                    rangeCheck = \"step(\" + (starting - .5) + \", N) * step(N, \" + (ending + .5) + \")\";\r\n                }\r\n                return \"currentState\" + operation + rangeCheck + \";\\n\";\r\n            }\r\n            return \"\";\r\n        }\r\n        var result = \"\";\r\n        var rules = parameters_1.default.rules;\r\n        var currentRule = rules[0];\r\n        var from = 0;\r\n        for (var i = 1; i < 9; ++i) {\r\n            if (rules[i] !== currentRule) {\r\n                result += generateRuleBlock(from, i - 1, currentRule);\r\n                currentRule = rules[i];\r\n                from = i;\r\n            }\r\n        }\r\n        result += generateRuleBlock(from, 8, currentRule);\r\n        return result;\r\n    };\r\n    Automaton2D.prototype.recomputeVisibleSubTexture = function () {\r\n        var canvasSize = Page.Canvas.getSize();\r\n        this._visibleSubTexture[2] = canvasSize[0] / this._gridSize[0] / parameters_1.default.scale;\r\n        this._visibleSubTexture[3] = canvasSize[1] / this._gridSize[1] / parameters_1.default.scale;\r\n        for (var i = 0; i < 2; ++i) {\r\n            this._visibleSubTexture[i] -= Math.min(0, this._visibleSubTexture[i]);\r\n            this._visibleSubTexture[i] -= Math.max(0, this._visibleSubTexture[i] + this._visibleSubTexture[i + 2] - 1);\r\n        }\r\n    };\r\n    Automaton2D.prototype.freeTextures = function () {\r\n        for (var i = 0; i < 2; ++i) {\r\n            if (this._textures[i]) {\r\n                gl_canvas_1.gl.deleteTexture(this._textures[i]);\r\n                this._textures[i] = null;\r\n            }\r\n        }\r\n    };\r\n    Automaton2D.prototype.initializeTextures = function (width, height) {\r\n        function upperPowerOfTwo(n) {\r\n            return Math.pow(2, Math.ceil(Math.log(n) * Math.LOG2E));\r\n        }\r\n        width = upperPowerOfTwo(width);\r\n        height = upperPowerOfTwo(height);\r\n        this._gridSize = [width, height];\r\n        var physicalWidth = width / 4;\r\n        var physicalHeight = height / 4;\r\n        this._FBO.width = physicalWidth;\r\n        this._FBO.height = physicalHeight;\r\n        this._textureSize = [physicalWidth, physicalHeight];\r\n        var data = new Uint8Array(4 * physicalWidth * physicalHeight);\r\n        for (var i = data.length - 1; i >= 0; --i) {\r\n            data[i] = Math.floor(256 * Math.random());\r\n        }\r\n        for (var i = 0; i < 2; ++i) {\r\n            if (this._textures[i] === null) {\r\n                this._textures[i] = gl_canvas_1.gl.createTexture();\r\n            }\r\n            gl_canvas_1.gl.bindTexture(gl_canvas_1.gl.TEXTURE_2D, this._textures[i]);\r\n            gl_canvas_1.gl.texImage2D(gl_canvas_1.gl.TEXTURE_2D, 0, gl_canvas_1.gl.RGBA, physicalWidth, physicalHeight, 0, gl_canvas_1.gl.RGBA, gl_canvas_1.gl.UNSIGNED_BYTE, data);\r\n            gl_canvas_1.gl.texParameteri(gl_canvas_1.gl.TEXTURE_2D, gl_canvas_1.gl.TEXTURE_MAG_FILTER, gl_canvas_1.gl.NEAREST);\r\n            gl_canvas_1.gl.texParameteri(gl_canvas_1.gl.TEXTURE_2D, gl_canvas_1.gl.TEXTURE_MIN_FILTER, gl_canvas_1.gl.NEAREST);\r\n        }\r\n        this._currentIndex = 0;\r\n        this._iteration = 0;\r\n        this._needToRedraw = true;\r\n        Page.Canvas.setIndicatorText(\"grid-size\", width + \"x\" + height);\r\n    };\r\n    return Automaton2D;\r\n}(gl_resource_1.default));\r\nexports.default = Automaton2D;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar gl_resource_1 = __importDefault(require(\"./gl-resource\"));\r\nvar FBO = (function (_super) {\r\n    __extends(FBO, _super);\r\n    function FBO(gl, width, height) {\r\n        var _this = _super.call(this, gl) || this;\r\n        _this.id = gl.createFramebuffer();\r\n        _this.width = width;\r\n        _this.height = height;\r\n        return _this;\r\n    }\r\n    FBO.bindDefault = function (gl, viewport) {\r\n        if (viewport === void 0) { viewport = null; }\r\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n        if (viewport === null) {\r\n            gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\r\n        }\r\n        else {\r\n            gl.viewport(viewport.left, viewport.lower, viewport.width, viewport.height);\r\n        }\r\n    };\r\n    FBO.prototype.bind = function (colorBuffers, depthBuffer) {\r\n        if (depthBuffer === void 0) { depthBuffer = null; }\r\n        var gl = _super.prototype.gl.call(this);\r\n        gl.bindFramebuffer(gl.FRAMEBUFFER, this.id);\r\n        gl.viewport(0, 0, this.width, this.height);\r\n        for (var i = 0; i < colorBuffers.length; ++i) {\r\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl[\"COLOR_ATTACHMENT\" + i], gl.TEXTURE_2D, colorBuffers[i], 0);\r\n        }\r\n        if (depthBuffer) {\r\n            gl.bindRenderbuffer(gl.RENDERBUFFER, depthBuffer);\r\n            gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, depthBuffer);\r\n        }\r\n    };\r\n    FBO.prototype.freeGLResources = function () {\r\n        _super.prototype.gl.call(this).deleteFramebuffer(this.id);\r\n        this.id = null;\r\n    };\r\n    return FBO;\r\n}(gl_resource_1.default));\r\nexports.default = FBO;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.gl = exports.initGL = exports.adjustSize = void 0;\r\nrequire(\"../page-interface-generated\");\r\nvar gl = null;\r\nexports.gl = gl;\r\nfunction initGL(flags) {\r\n    function setError(message) {\r\n        Page.Demopage.setErrorMessage(\"webgl-support\", message);\r\n    }\r\n    var canvas = Page.Canvas.getCanvas();\r\n    exports.gl = gl = canvas.getContext(\"webgl\", flags);\r\n    if (gl == null) {\r\n        exports.gl = gl = canvas.getContext(\"experimental-webgl\", flags);\r\n        if (gl == null) {\r\n            setError(\"Your browser or device does not seem to support WebGL.\");\r\n            return false;\r\n        }\r\n        setError(\"Your browser or device only supports experimental WebGL.\\n\" +\r\n            \"The simulation may not run as expected.\");\r\n    }\r\n    gl.disable(gl.CULL_FACE);\r\n    gl.disable(gl.DEPTH_TEST);\r\n    gl.disable(gl.BLEND);\r\n    gl.clearColor(0.0, 0.0, 0.0, 1.0);\r\n    return true;\r\n}\r\nexports.initGL = initGL;\r\nfunction adjustSize(hidpi) {\r\n    if (hidpi === void 0) { hidpi = false; }\r\n    var cssPixel = (hidpi) ? window.devicePixelRatio : 1;\r\n    var canvas = gl.canvas;\r\n    var width = Math.floor(canvas.clientWidth * cssPixel);\r\n    var height = Math.floor(canvas.clientHeight * cssPixel);\r\n    if (canvas.width !== width || canvas.height !== height) {\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n    }\r\n}\r\nexports.adjustSize = adjustSize;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar GLResource = (function () {\r\n    function GLResource(gl) {\r\n        this._gl = gl;\r\n    }\r\n    GLResource.prototype.gl = function () {\r\n        return this._gl;\r\n    };\r\n    return GLResource;\r\n}());\r\nexports.default = GLResource;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.deleteShader = exports.registerShader = exports.getShader = exports.buildShader = void 0;\r\nvar gl_canvas_1 = require(\"./gl-canvas\");\r\nvar shader_1 = __importDefault(require(\"./shader\"));\r\nvar ShaderSources = __importStar(require(\"./shader-sources\"));\r\nvar cachedShaders = {};\r\nfunction getShader(name) {\r\n    return cachedShaders[name].shader;\r\n}\r\nexports.getShader = getShader;\r\nfunction buildShader(infos, callback) {\r\n    var sourcesPending = 2;\r\n    var sourcesFailed = 0;\r\n    function loadedSource(success) {\r\n        function processSource(source) {\r\n            return source.replace(/#INJECT\\((.*)\\)/mg, function (match, name) {\r\n                if (infos.injected[name]) {\r\n                    return infos.injected[name];\r\n                }\r\n                return match;\r\n            });\r\n        }\r\n        sourcesPending--;\r\n        if (!success) {\r\n            sourcesFailed++;\r\n        }\r\n        if (sourcesPending === 0) {\r\n            var shader = null;\r\n            if (sourcesFailed === 0) {\r\n                var vert = ShaderSources.getSource(infos.vertexFilename);\r\n                var frag = ShaderSources.getSource(infos.fragmentFilename);\r\n                var processedVert = processSource(vert);\r\n                var processedFrag = processSource(frag);\r\n                shader = new shader_1.default(gl_canvas_1.gl, processedVert, processedFrag);\r\n            }\r\n            callback(shader);\r\n        }\r\n    }\r\n    ShaderSources.loadSource(infos.vertexFilename, loadedSource);\r\n    ShaderSources.loadSource(infos.fragmentFilename, loadedSource);\r\n}\r\nexports.buildShader = buildShader;\r\nfunction registerShader(name, infos, callback) {\r\n    function callAndClearCallbacks(cached) {\r\n        for (var _i = 0, _a = cached.callbacks; _i < _a.length; _i++) {\r\n            var cachedCallback = _a[_i];\r\n            cachedCallback(!cached.failed, cached.shader);\r\n        }\r\n        cached.callbacks = [];\r\n    }\r\n    if (typeof cachedShaders[name] === \"undefined\") {\r\n        cachedShaders[name] = {\r\n            callbacks: [callback],\r\n            failed: false,\r\n            infos: infos,\r\n            pending: true,\r\n            shader: null,\r\n        };\r\n        var cached_1 = cachedShaders[name];\r\n        buildShader(infos, function (builtShader) {\r\n            cached_1.pending = false;\r\n            cached_1.failed = builtShader === null;\r\n            cached_1.shader = builtShader;\r\n            callAndClearCallbacks(cached_1);\r\n        });\r\n    }\r\n    else {\r\n        var cached = cachedShaders[name];\r\n        if (cached.pending === true) {\r\n            cached.callbacks.push(callback);\r\n        }\r\n        else {\r\n            callAndClearCallbacks(cached);\r\n        }\r\n    }\r\n}\r\nexports.registerShader = registerShader;\r\nfunction deleteShader(name) {\r\n    if (cachedShaders[name]) {\r\n        if (cachedShaders[name].shader) {\r\n            cachedShaders[name].shader.freeGLResources();\r\n        }\r\n        delete cachedShaders[name];\r\n    }\r\n}\r\nexports.deleteShader = deleteShader;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.loadSource = exports.getSource = void 0;\r\nvar cachedSources = {};\r\nfunction loadSource(filename, callback) {\r\n    function callAndClearCallbacks(cached) {\r\n        for (var _i = 0, _a = cached.callbacks; _i < _a.length; _i++) {\r\n            var cachedCallback = _a[_i];\r\n            cachedCallback(!cached.failed);\r\n        }\r\n        cached.callbacks = [];\r\n    }\r\n    if (typeof cachedSources[filename] === \"undefined\") {\r\n        cachedSources[filename] = {\r\n            callbacks: [callback],\r\n            failed: false,\r\n            pending: true,\r\n            text: null,\r\n        };\r\n        var cached_1 = cachedSources[filename];\r\n        var xhr_1 = new XMLHttpRequest();\r\n        xhr_1.open(\"GET\", \"./shaders/\" + filename, true);\r\n        xhr_1.onload = function () {\r\n            if (xhr_1.readyState === 4) {\r\n                cached_1.pending = false;\r\n                if (xhr_1.status === 200) {\r\n                    cached_1.text = xhr_1.responseText;\r\n                    cached_1.failed = false;\r\n                }\r\n                else {\r\n                    console.error(\"Cannot load '\" + filename + \"' shader source: \" + xhr_1.statusText);\r\n                    cached_1.failed = true;\r\n                }\r\n                callAndClearCallbacks(cached_1);\r\n            }\r\n        };\r\n        xhr_1.onerror = function () {\r\n            console.error(\"Cannot load '\" + filename + \"' shader source: \" + xhr_1.statusText);\r\n            cached_1.pending = false;\r\n            cached_1.failed = true;\r\n            callAndClearCallbacks(cached_1);\r\n        };\r\n        xhr_1.send(null);\r\n    }\r\n    else {\r\n        var cached = cachedSources[filename];\r\n        if (cached.pending === true) {\r\n            cached.callbacks.push(callback);\r\n        }\r\n        else {\r\n            cached.callbacks = [callback];\r\n            callAndClearCallbacks(cached);\r\n        }\r\n    }\r\n}\r\nexports.loadSource = loadSource;\r\nfunction getSource(filename) {\r\n    return cachedSources[filename].text;\r\n}\r\nexports.getSource = getSource;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar gl_resource_1 = __importDefault(require(\"./gl-resource\"));\r\nfunction notImplemented(gl, location, value) {\r\n    alert(\"NOT IMPLEMENTED YET\");\r\n}\r\nfunction bindUniformFloat(gl, location, value) {\r\n    if (Array.isArray(value)) {\r\n        gl.uniform1fv(location, value);\r\n    }\r\n    else {\r\n        gl.uniform1f(location, value);\r\n    }\r\n}\r\nfunction bindUniformFloat2v(gl, location, value) {\r\n    gl.uniform2fv(location, value);\r\n}\r\nfunction bindUniformFloat3v(gl, location, value) {\r\n    gl.uniform3fv(location, value);\r\n}\r\nfunction bindUniformFloat4v(gl, location, value) {\r\n    gl.uniform4fv(location, value);\r\n}\r\nfunction bindUniformInt(gl, location, value) {\r\n    if (Array.isArray(value)) {\r\n        gl.uniform1iv(location, value);\r\n    }\r\n    else {\r\n        gl.uniform1iv(location, value);\r\n    }\r\n}\r\nfunction bindUniformInt2v(gl, location, value) {\r\n    gl.uniform2iv(location, value);\r\n}\r\nfunction bindUniformInt3v(gl, location, value) {\r\n    gl.uniform3iv(location, value);\r\n}\r\nfunction bindUniformInt4v(gl, location, value) {\r\n    gl.uniform4iv(location, value);\r\n}\r\nfunction bindUniformBool(gl, location, value) {\r\n    gl.uniform1i(location, +value);\r\n}\r\nfunction bindUniformBool2v(gl, location, value) {\r\n    gl.uniform2iv(location, value);\r\n}\r\nfunction bindUniformBool3v(gl, location, value) {\r\n    gl.uniform3iv(location, value);\r\n}\r\nfunction bindUniformBool4v(gl, location, value) {\r\n    gl.uniform4iv(location, value);\r\n}\r\nfunction bindUniformFloatMat2(gl, location, value) {\r\n    gl.uniformMatrix2fv(location, false, value);\r\n}\r\nfunction bindUniformFloatMat3(gl, location, value) {\r\n    gl.uniformMatrix3fv(location, false, value);\r\n}\r\nfunction bindUniformFloatMat4(gl, location, value) {\r\n    gl.uniformMatrix4fv(location, false, value);\r\n}\r\nfunction bindSampler2D(gl, location, unitNb, value) {\r\n    gl.uniform1i(location, unitNb);\r\n    gl.activeTexture(gl[\"TEXTURE\" + unitNb]);\r\n    gl.bindTexture(gl.TEXTURE_2D, value);\r\n}\r\nfunction bindSamplerCube(gl, location, unitNb, value) {\r\n    gl.uniform1i(location, unitNb);\r\n    gl.activeTexture(gl[\"TEXTURE\" + unitNb]);\r\n    gl.bindTexture(gl.TEXTURE_CUBE_MAP, value);\r\n}\r\nvar types = {\r\n    0x8B50: { str: \"FLOAT_VEC2\", binder: bindUniformFloat2v },\r\n    0x8B51: { str: \"FLOAT_VEC3\", binder: bindUniformFloat3v },\r\n    0x8B52: { str: \"FLOAT_VEC4\", binder: bindUniformFloat4v },\r\n    0x8B53: { str: \"INT_VEC2\", binder: bindUniformInt2v },\r\n    0x8B54: { str: \"INT_VEC3\", binder: bindUniformInt3v },\r\n    0x8B55: { str: \"INT_VEC4\", binder: bindUniformInt4v },\r\n    0x8B56: { str: \"BOOL\", binder: bindUniformBool },\r\n    0x8B57: { str: \"BOOL_VEC2\", binder: bindUniformBool2v },\r\n    0x8B58: { str: \"BOOL_VEC3\", binder: bindUniformBool3v },\r\n    0x8B59: { str: \"BOOL_VEC4\", binder: bindUniformBool4v },\r\n    0x8B5A: { str: \"FLOAT_MAT2\", binder: bindUniformFloatMat2 },\r\n    0x8B5B: { str: \"FLOAT_MAT3\", binder: bindUniformFloatMat3 },\r\n    0x8B5C: { str: \"FLOAT_MAT4\", binder: bindUniformFloatMat4 },\r\n    0x8B5E: { str: \"SAMPLER_2D\", binder: bindSampler2D },\r\n    0x8B60: { str: \"SAMPLER_CUBE\", binder: bindSamplerCube },\r\n    0x1400: { str: \"BYTE\", binder: notImplemented },\r\n    0x1401: { str: \"UNSIGNED_BYTE\", binder: notImplemented },\r\n    0x1402: { str: \"SHORT\", binder: notImplemented },\r\n    0x1403: { str: \"UNSIGNED_SHORT\", binder: notImplemented },\r\n    0x1404: { str: \"INT\", binder: bindUniformInt },\r\n    0x1405: { str: \"UNSIGNED_INT\", binder: notImplemented },\r\n    0x1406: { str: \"FLOAT\", binder: bindUniformFloat },\r\n};\r\nvar ShaderProgram = (function (_super) {\r\n    __extends(ShaderProgram, _super);\r\n    function ShaderProgram(gl, vertexSource, fragmentSource) {\r\n        var _this = this;\r\n        function createShader(type, source) {\r\n            var shader = gl.createShader(type);\r\n            gl.shaderSource(shader, source);\r\n            gl.compileShader(shader);\r\n            var compileSuccess = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\r\n            if (!compileSuccess) {\r\n                console.error(gl.getShaderInfoLog(shader));\r\n                gl.deleteShader(shader);\r\n                return null;\r\n            }\r\n            return shader;\r\n        }\r\n        _this = _super.call(this, gl) || this;\r\n        _this.id = null;\r\n        _this.uCount = 0;\r\n        _this.aCount = 0;\r\n        var vertexShader = createShader(gl.VERTEX_SHADER, vertexSource);\r\n        var fragmentShader = createShader(gl.FRAGMENT_SHADER, fragmentSource);\r\n        var id = gl.createProgram();\r\n        gl.attachShader(id, vertexShader);\r\n        gl.attachShader(id, fragmentShader);\r\n        gl.linkProgram(id);\r\n        var linkSuccess = gl.getProgramParameter(id, gl.LINK_STATUS);\r\n        if (!linkSuccess) {\r\n            console.error(gl.getProgramInfoLog(id));\r\n            gl.deleteProgram(id);\r\n        }\r\n        else {\r\n            _this.id = id;\r\n            _this.introspection();\r\n        }\r\n        return _this;\r\n    }\r\n    ShaderProgram.prototype.freeGLResources = function () {\r\n        _super.prototype.gl.call(this).deleteProgram(this.id);\r\n        this.id = null;\r\n    };\r\n    ShaderProgram.prototype.use = function () {\r\n        _super.prototype.gl.call(this).useProgram(this.id);\r\n    };\r\n    ShaderProgram.prototype.bindUniforms = function () {\r\n        var _this = this;\r\n        var gl = _super.prototype.gl.call(this);\r\n        var currTextureUnitNb = 0;\r\n        Object.keys(this.u).forEach(function (uName) {\r\n            var uniform = _this.u[uName];\r\n            if (uniform.value !== null) {\r\n                if (uniform.type === 0x8B5E || uniform.type === 0x8B60) {\r\n                    var unitNb = currTextureUnitNb;\r\n                    types[uniform.type].binder(gl, uniform.loc, unitNb, uniform.value);\r\n                    currTextureUnitNb++;\r\n                }\r\n                else {\r\n                    types[uniform.type].binder(gl, uniform.loc, uniform.value);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    ShaderProgram.prototype.bindAttributes = function () {\r\n        var _this = this;\r\n        Object.keys(this.a).forEach(function (aName) {\r\n            var attribute = _this.a[aName];\r\n            if (attribute.VBO !== null) {\r\n                attribute.VBO.bind(attribute.loc);\r\n            }\r\n        });\r\n    };\r\n    ShaderProgram.prototype.bindUniformsAndAttributes = function () {\r\n        this.bindUniforms();\r\n        this.bindAttributes();\r\n    };\r\n    ShaderProgram.prototype.introspection = function () {\r\n        var gl = _super.prototype.gl.call(this);\r\n        this.uCount = gl.getProgramParameter(this.id, gl.ACTIVE_UNIFORMS);\r\n        this.u = [];\r\n        for (var i = 0; i < this.uCount; ++i) {\r\n            var uniform = gl.getActiveUniform(this.id, i);\r\n            var name_1 = uniform.name;\r\n            this.u[name_1] = {\r\n                loc: gl.getUniformLocation(this.id, name_1),\r\n                size: uniform.size,\r\n                type: uniform.type,\r\n                value: null,\r\n            };\r\n        }\r\n        this.aCount = gl.getProgramParameter(this.id, gl.ACTIVE_ATTRIBUTES);\r\n        this.a = [];\r\n        for (var i = 0; i < this.aCount; ++i) {\r\n            var attribute = gl.getActiveAttrib(this.id, i);\r\n            var name_2 = attribute.name;\r\n            this.a[name_2] = {\r\n                VBO: null,\r\n                loc: gl.getAttribLocation(this.id, name_2),\r\n                size: attribute.size,\r\n                type: attribute.type,\r\n            };\r\n        }\r\n    };\r\n    return ShaderProgram;\r\n}(gl_resource_1.default));\r\nexports.default = ShaderProgram;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar gl_resource_1 = __importDefault(require(\"./gl-resource\"));\r\nvar VBO = (function (_super) {\r\n    __extends(VBO, _super);\r\n    function VBO(gl, array, size, type) {\r\n        var _this = _super.call(this, gl) || this;\r\n        _this.id = gl.createBuffer();\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, _this.id);\r\n        gl.bufferData(gl.ARRAY_BUFFER, array, gl.STATIC_DRAW);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n        _this.size = size;\r\n        _this.type = type;\r\n        _this.normalize = false;\r\n        _this.stride = 0;\r\n        _this.offset = 0;\r\n        return _this;\r\n    }\r\n    VBO.createQuad = function (gl, minX, minY, maxX, maxY) {\r\n        var vert = [\r\n            minX, minY,\r\n            maxX, minY,\r\n            minX, maxY,\r\n            maxX, maxY,\r\n        ];\r\n        return new VBO(gl, new Float32Array(vert), 2, gl.FLOAT);\r\n    };\r\n    VBO.prototype.freeGLResources = function () {\r\n        this.gl().deleteBuffer(this.id);\r\n        this.id = null;\r\n    };\r\n    VBO.prototype.bind = function (location) {\r\n        var gl = _super.prototype.gl.call(this);\r\n        gl.enableVertexAttribArray(location);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.id);\r\n        gl.vertexAttribPointer(location, this.size, this.type, this.normalize, this.stride, this.offset);\r\n    };\r\n    return VBO;\r\n}(gl_resource_1.default));\r\nexports.default = VBO;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Viewport = (function () {\r\n    function Viewport(left, lower, width, height) {\r\n        this.left = left;\r\n        this.lower = lower;\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n    Viewport.setFullCanvas = function (gl) {\r\n        gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\r\n    };\r\n    Viewport.prototype.set = function (gl) {\r\n        gl.viewport(this.lower, this.left, this.width, this.height);\r\n    };\r\n    return Viewport;\r\n}());\r\nexports.default = Viewport;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar fbo_1 = __importDefault(require(\"./gl-utils/fbo\"));\r\nvar GlCanvas = __importStar(require(\"./gl-utils/gl-canvas\"));\r\nvar gl_canvas_1 = require(\"./gl-utils/gl-canvas\");\r\nvar viewport_1 = __importDefault(require(\"./gl-utils/viewport\"));\r\nvar automaton_2D_1 = __importDefault(require(\"./automaton-2D\"));\r\nvar parameters_1 = __importDefault(require(\"./parameters\"));\r\nrequire(\"./page-interface-generated\");\r\nfunction main() {\r\n    var glParams = {\r\n        alpha: false,\r\n        preserveDrawingBuffer: true,\r\n    };\r\n    if (!GlCanvas.initGL(glParams)) {\r\n        return;\r\n    }\r\n    gl_canvas_1.gl.blendFunc(gl_canvas_1.gl.ONE, gl_canvas_1.gl.ONE_MINUS_SRC_ALPHA);\r\n    Page.Canvas.showLoader(true);\r\n    var needToAdjustSize = true;\r\n    Page.Canvas.Observers.canvasResize.push(function () { return needToAdjustSize = true; });\r\n    parameters_1.default.autorun = true;\r\n    parameters_1.default.persistence = 0;\r\n    var automaton = new automaton_2D_1.default();\r\n    var lastIteration = automaton.iteration;\r\n    function updateIterationPerSecIndicator() {\r\n        Page.Canvas.setIndicatorText(\"iterations-per-sec\", \"\" + (automaton.iteration - lastIteration));\r\n        lastIteration = automaton.iteration;\r\n    }\r\n    window.setInterval(updateIterationPerSecIndicator, 1000);\r\n    function updateIterationIndicator() {\r\n        Page.Canvas.setIndicatorText(\"iteration\", \"\" + automaton.iteration);\r\n    }\r\n    window.setInterval(updateIterationIndicator, 50);\r\n    var forceUpdate = false;\r\n    parameters_1.default.nextStepObservers.push(function () { return forceUpdate = true; });\r\n    var firstDraw = true;\r\n    var lastUpdate = 0;\r\n    function mainLoop(time) {\r\n        var update = automaton.needToUpdate || forceUpdate ||\r\n            (parameters_1.default.autorun && (time - lastUpdate > parameters_1.default.updateWaitTime));\r\n        if (update) {\r\n            lastUpdate = time;\r\n            automaton.update();\r\n            forceUpdate = false;\r\n        }\r\n        if (update || automaton.needToRedraw) {\r\n            fbo_1.default.bindDefault(gl_canvas_1.gl);\r\n            if (needToAdjustSize) {\r\n                GlCanvas.adjustSize();\r\n                needToAdjustSize = false;\r\n            }\r\n            viewport_1.default.setFullCanvas(gl_canvas_1.gl);\r\n            automaton.draw();\r\n            if (firstDraw) {\r\n                firstDraw = false;\r\n                Page.Canvas.showLoader(false);\r\n            }\r\n        }\r\n        requestAnimationFrame(mainLoop);\r\n    }\r\n    requestAnimationFrame(mainLoop);\r\n}\r\nmain();\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nrequire(\"./page-interface-generated\");\r\nvar Rule;\r\n(function (Rule) {\r\n    Rule[\"DEATH\"] = \"death\";\r\n    Rule[\"ALIVE\"] = \"alive\";\r\n    Rule[\"BIRTH\"] = \"birth\";\r\n})(Rule || (Rule = {}));\r\nvar DEFAULT_RULES = [\r\n    Rule.DEATH,\r\n    Rule.DEATH,\r\n    Rule.ALIVE,\r\n    Rule.BIRTH,\r\n    Rule.DEATH,\r\n    Rule.DEATH,\r\n    Rule.DEATH,\r\n    Rule.DEATH,\r\n    Rule.DEATH,\r\n];\r\nvar rules = DEFAULT_RULES.slice();\r\nfunction updateRuleControl(id) {\r\n    var controlId = \"neighbours-tabs-\".concat(id);\r\n    if (rules[id] === Rule.DEATH) {\r\n        Page.Tabs.setValues(controlId, [\"death\"]);\r\n    }\r\n    else if (rules[id] === Rule.ALIVE) {\r\n        Page.Tabs.setValues(controlId, [\"alive\"]);\r\n    }\r\n    else if (rules[id] === Rule.BIRTH) {\r\n        Page.Tabs.setValues(controlId, [\"alive\", \"birth\"]);\r\n    }\r\n    Page.Tabs.storeState(controlId);\r\n}\r\nvar rulesObservers = [];\r\nfunction callRulesObservers() {\r\n    for (var _i = 0, rulesObservers_1 = rulesObservers; _i < rulesObservers_1.length; _i++) {\r\n        var observer = rulesObservers_1[_i];\r\n        observer();\r\n    }\r\n}\r\nvar CUSTOM_RULE_FLAG = \"customrules\";\r\nfunction addCustomRulesUrlFlag() {\r\n    if (typeof URLSearchParams !== \"undefined\") {\r\n        var searchParamsObject = new URLSearchParams(window.location.search);\r\n        searchParamsObject.set(CUSTOM_RULE_FLAG, \"true\");\r\n        var searchParams = searchParamsObject.toString();\r\n        var newUrl = window.location.origin + window.location.pathname + (searchParams ? \"?\".concat(searchParams) : \"\");\r\n        window.history.replaceState(\"\", \"\", newUrl);\r\n    }\r\n    for (var i = 0; i < 9; i++) {\r\n        var controlId = \"neighbours-tabs-\".concat(i);\r\n        Page.Tabs.storeState(controlId);\r\n    }\r\n}\r\nfunction removeCustomRulesUrlFlag() {\r\n    if (typeof URLSearchParams !== \"undefined\") {\r\n        var searchParamsObject = new URLSearchParams(window.location.search);\r\n        searchParamsObject.delete(CUSTOM_RULE_FLAG);\r\n        var searchParams = searchParamsObject.toString();\r\n        var newUrl = window.location.origin + window.location.pathname + (searchParams ? \"?\".concat(searchParams) : \"\");\r\n        window.history.replaceState(\"\", \"\", newUrl);\r\n    }\r\n}\r\nfunction isCustomRulesUrlFlagPresent() {\r\n    if (typeof URLSearchParams !== \"undefined\") {\r\n        var searchParamsObject = new URLSearchParams(window.location.search);\r\n        return searchParamsObject.has(CUSTOM_RULE_FLAG);\r\n    }\r\n    return false;\r\n}\r\nwindow.addEventListener(\"load\", function () {\r\n    var customRules = isCustomRulesUrlFlagPresent();\r\n    var _loop_1 = function (i) {\r\n        var controlId = \"neighbours-tabs-\".concat(i);\r\n        Page.Tabs.addObserver(controlId, function (values) {\r\n            var previous = rules[i];\r\n            if (rules[i] !== Rule.DEATH && values.indexOf(Rule.DEATH) >= 0) {\r\n                rules[i] = Rule.DEATH;\r\n            }\r\n            else if (rules[i] !== Rule.ALIVE && values.indexOf(Rule.ALIVE) >= 0) {\r\n                rules[i] = Rule.ALIVE;\r\n            }\r\n            else if (rules[i] !== Rule.BIRTH && values.indexOf(Rule.BIRTH) >= 0) {\r\n                rules[i] = Rule.BIRTH;\r\n            }\r\n            updateRuleControl(i);\r\n            addCustomRulesUrlFlag();\r\n            if (previous !== rules[i]) {\r\n                callRulesObservers();\r\n            }\r\n        });\r\n        if (customRules) {\r\n            var values = Page.Tabs.getValues(controlId);\r\n            if (values.indexOf(Rule.BIRTH) >= 0) {\r\n                rules[i] = Rule.BIRTH;\r\n            }\r\n            else if (values.indexOf(Rule.ALIVE) >= 0) {\r\n                rules[i] = Rule.ALIVE;\r\n            }\r\n            else {\r\n                rules[i] = Rule.DEATH;\r\n            }\r\n        }\r\n        updateRuleControl(i);\r\n    };\r\n    for (var i = 0; i < 9; ++i) {\r\n        _loop_1(i);\r\n    }\r\n    callRulesObservers();\r\n});\r\nPage.Button.addObserver(\"reset-rules-button-id\", function () {\r\n    var somethingChanged = false;\r\n    for (var i = 0; i < 9; i++) {\r\n        somethingChanged = somethingChanged || (rules[i] !== DEFAULT_RULES[i]);\r\n        rules[i] = DEFAULT_RULES[i];\r\n        updateRuleControl(i);\r\n        Page.Tabs.clearStoredState(\"neighbours-tabs-\".concat(i));\r\n    }\r\n    removeCustomRulesUrlFlag();\r\n    if (somethingChanged) {\r\n        callRulesObservers();\r\n    }\r\n});\r\nvar autorun;\r\nvar AUTORUN_CONTROL_ID = \"autorun-checkbox-id\";\r\nPage.Checkbox.addObserver(AUTORUN_CONTROL_ID, function (checked) {\r\n    autorun = checked;\r\n});\r\nautorun = Page.Checkbox.isChecked(AUTORUN_CONTROL_ID);\r\nvar speed;\r\nvar updateWaitTime = [1000 / 1, 1000 / 2, 1000 / 5, 1000 / 11, 1000 / 31, 0];\r\nvar SPEED_CONTROL_ID = \"speed-range-id\";\r\nPage.Range.addObserver(SPEED_CONTROL_ID, function (newValue) {\r\n    speed = newValue;\r\n});\r\nspeed = Page.Range.getValue(SPEED_CONTROL_ID);\r\nvar NEXT_STEP_CONTROL_ID = \"next-button-id\";\r\nvar nextStepObservers = [];\r\nPage.Button.addObserver(NEXT_STEP_CONTROL_ID, function () {\r\n    for (var _i = 0, nextStepObservers_1 = nextStepObservers; _i < nextStepObservers_1.length; _i++) {\r\n        var observer = nextStepObservers_1[_i];\r\n        observer();\r\n    }\r\n});\r\nvar RESET_CONTROL_ID = \"reset-button-id\";\r\nvar resetObservers = [];\r\nPage.Button.addObserver(RESET_CONTROL_ID, function () {\r\n    for (var _i = 0, resetObservers_1 = resetObservers; _i < resetObservers_1.length; _i++) {\r\n        var observer = resetObservers_1[_i];\r\n        observer();\r\n    }\r\n});\r\nvar persistence;\r\nvar persistenceObservers = [];\r\nvar persistenceScale = [0, .6, .7, .8, .9];\r\nvar PERSISTENCE_CONTROL_ID = \"persistence-range-id\";\r\nPage.Range.addObserver(PERSISTENCE_CONTROL_ID, function (newValue) {\r\n    persistence = newValue;\r\n    for (var _i = 0, persistenceObservers_1 = persistenceObservers; _i < persistenceObservers_1.length; _i++) {\r\n        var observer = persistenceObservers_1[_i];\r\n        observer(persistence);\r\n    }\r\n});\r\npersistence = Page.Range.getValue(PERSISTENCE_CONTROL_ID);\r\nvar scale;\r\nvar exactScale;\r\nvar MIN_SCALE = 1;\r\nvar MAX_SCALE = 10;\r\nvar scaleObservers = [];\r\nPage.Canvas.Observers.mouseWheel.push(function (delta, zoomCenter) {\r\n    exactScale = Math.min(MAX_SCALE, Math.max(MIN_SCALE, exactScale - delta));\r\n    var newScale = Math.round(exactScale);\r\n    if (newScale !== scale) {\r\n        scale = newScale;\r\n        if (!zoomCenter) {\r\n            zoomCenter = Page.Canvas.getMousePosition();\r\n        }\r\n        for (var _i = 0, scaleObservers_1 = scaleObservers; _i < scaleObservers_1.length; _i++) {\r\n            var observer = scaleObservers_1[_i];\r\n            observer(scale, zoomCenter);\r\n        }\r\n    }\r\n});\r\nscale = MIN_SCALE;\r\nexactScale = scale;\r\nvar INDICATORS_CONTROL_ID = \"indicators-checkbox-id\";\r\nPage.Checkbox.addObserver(INDICATORS_CONTROL_ID, function (checked) {\r\n    Page.Canvas.setIndicatorsVisibility(checked);\r\n});\r\nvar Parameters = (function () {\r\n    function Parameters() {\r\n    }\r\n    Object.defineProperty(Parameters, \"autorun\", {\r\n        get: function () {\r\n            return autorun;\r\n        },\r\n        set: function (ar) {\r\n            autorun = ar;\r\n            Page.Checkbox.setChecked(AUTORUN_CONTROL_ID, ar);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Parameters, \"updateWaitTime\", {\r\n        get: function () {\r\n            return updateWaitTime[speed - 1];\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Parameters, \"nextStepObservers\", {\r\n        get: function () {\r\n            return nextStepObservers;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Parameters, \"resetObservers\", {\r\n        get: function () {\r\n            return resetObservers;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Parameters, \"scale\", {\r\n        get: function () {\r\n            return scale;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Parameters, \"scaleObservers\", {\r\n        get: function () {\r\n            return scaleObservers;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Parameters, \"persistence\", {\r\n        get: function () {\r\n            return persistenceScale[persistence];\r\n        },\r\n        set: function (newValue) {\r\n            Page.Range.setValue(PERSISTENCE_CONTROL_ID, newValue);\r\n            persistence = Page.Range.getValue(PERSISTENCE_CONTROL_ID);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Parameters, \"persistenceObservers\", {\r\n        get: function () {\r\n            return persistenceObservers;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Parameters, \"rules\", {\r\n        get: function () {\r\n            return rules;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Parameters, \"rulesObservers\", {\r\n        get: function () {\r\n            return rulesObservers;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return Parameters;\r\n}());\r\nexports.default = Parameters;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(633);\n"],"names":["extendStatics","__extends","this","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__createBinding","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","__importDefault","exports","fbo_1","gl_canvas_1","gl_resource_1","ShaderManager","vbo_1","parameters_1","Automaton2D","_super","_this","gl","_FBO","default","_vbo","createQuad","initializeTexturesForCanvas","canvasSize","Page","Canvas","getSize","initializeTextures","recomputeVisibleSubTexture","_needToRecomputeShader","_mustClear","_textures","_visibleSubTexture","Observers","mouseDrag","push","dX","dY","_needToRedraw","canvasResize","resetObservers","rulesObservers","previousScale","scale","scaleObservers","newScale","zoomCenter","buildShader","fragmentFilename","vertexFilename","injected","shader","_displayShader","a","VBO","u","freeGLResources","_updateShader","freeTextures","update","recomputeUpdateShader","current","_currentIndex","next","bind","_textureSize","use","bindUniformsAndAttributes","disable","BLEND","drawArrays","TRIANGLE_STRIP","_iteration","draw","persistence","_gridSize","enable","configurable","rules","generateShaderRules","generateRuleBlock","starting","ending","rule","rangeCheck","currentRule","from","i","Math","min","max","deleteTexture","width","height","upperPowerOfTwo","n","pow","ceil","log","LOG2E","physicalWidth","physicalHeight","data","Uint8Array","length","floor","random","createTexture","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MAG_FILTER","NEAREST","TEXTURE_MIN_FILTER","setIndicatorText","FBO","id","createFramebuffer","bindDefault","viewport","bindFramebuffer","FRAMEBUFFER","drawingBufferWidth","drawingBufferHeight","left","lower","colorBuffers","depthBuffer","framebufferTexture2D","bindRenderbuffer","RENDERBUFFER","framebufferRenderbuffer","DEPTH_ATTACHMENT","deleteFramebuffer","initGL","adjustSize","flags","setError","message","Demopage","setErrorMessage","canvas","getCanvas","getContext","CULL_FACE","DEPTH_TEST","clearColor","hidpi","cssPixel","window","devicePixelRatio","clientWidth","clientHeight","GLResource","_gl","deleteShader","registerShader","getShader","shader_1","ShaderSources","cachedShaders","infos","callback","sourcesPending","sourcesFailed","loadedSource","success","processSource","source","replace","match","name","vert","getSource","frag","processedVert","processedFrag","loadSource","callAndClearCallbacks","cached","_i","_a","callbacks","cachedCallback","failed","pending","cached_1","builtShader","cachedSources","filename","text","xhr_1","XMLHttpRequest","open","onload","readyState","status","responseText","console","error","statusText","onerror","send","notImplemented","location","alert","types","str","binder","uniform2fv","uniform3fv","uniform4fv","uniform2iv","uniform3iv","uniform4iv","uniform1i","uniformMatrix2fv","uniformMatrix3fv","uniformMatrix4fv","unitNb","activeTexture","TEXTURE_CUBE_MAP","isArray","uniform1iv","uniform1fv","uniform1f","ShaderProgram","vertexSource","fragmentSource","createShader","type","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","uCount","aCount","vertexShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","introspection","getProgramInfoLog","deleteProgram","useProgram","bindUniforms","currTextureUnitNb","keys","forEach","uName","uniform","loc","bindAttributes","aName","attribute","ACTIVE_UNIFORMS","getActiveUniform","name_1","getUniformLocation","size","ACTIVE_ATTRIBUTES","getActiveAttrib","name_2","getAttribLocation","array","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","normalize","stride","offset","minX","minY","maxX","maxY","Float32Array","FLOAT","deleteBuffer","enableVertexAttribArray","vertexAttribPointer","Viewport","setFullCanvas","set","GlCanvas","viewport_1","automaton_2D_1","alpha","preserveDrawingBuffer","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","showLoader","needToAdjustSize","autorun","automaton","lastIteration","iteration","setInterval","forceUpdate","nextStepObservers","firstDraw","lastUpdate","requestAnimationFrame","mainLoop","time","needToUpdate","updateWaitTime","needToRedraw","main","Rule","DEFAULT_RULES","DEATH","ALIVE","BIRTH","slice","updateRuleControl","controlId","concat","Tabs","setValues","storeState","callRulesObservers","rulesObservers_1","observer","CUSTOM_RULE_FLAG","addEventListener","customRules","URLSearchParams","search","has","_loop_1","addObserver","values","previous","indexOf","searchParamsObject","searchParams","toString","newUrl","origin","pathname","history","replaceState","addCustomRulesUrlFlag","getValues","Button","somethingChanged","clearStoredState","delete","removeCustomRulesUrlFlag","speed","AUTORUN_CONTROL_ID","Checkbox","checked","isChecked","SPEED_CONTROL_ID","Range","newValue","getValue","nextStepObservers_1","resetObservers_1","exactScale","persistenceObservers","persistenceScale","PERSISTENCE_CONTROL_ID","persistenceObservers_1","mouseWheel","delta","round","getMousePosition","scaleObservers_1","setIndicatorsVisibility","Parameters","ar","setChecked","setValue","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__"],"sourceRoot":""}